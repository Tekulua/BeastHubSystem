local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/ionlyusegithubformcmods/1-Line-Scripts/main/Mobile%20Friendly%20Orion')))()
local Player = game.Players.LocalPlayer
local SoundService = game:GetService("SoundService")

-- Função para tocar som
local function PlayIntroSound()
    local success, err = pcall(function()
        local introSound = Instance.new("Sound", SoundService)
        introSound.SoundId = "rbxassetid://1846396460"
        introSound.Volume = 1
        introSound:Play()
    end)
    if not success then
        warn("Erro ao tocar som de introdução: " .. err)
    end
end

-- Toca o som de introdução imediatamente
PlayIntroSound()

-- Cria a janela após tocar o som de introdução
local Window = OrionLib:MakeWindow({
    Name = "HumaHubKeySystem",
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "OrionTest",
    IntroText = "Carregando Aguarde..."
})

-- Função para carregar o script principal se a chave estiver correta
local function MakeScriptHub()
    local success, err = pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Tekulua/HumaHubV1/main/HumaHubV1.txt"))()
    end)
    if not success then
        warn("Erro ao carregar script principal: " .. err)
    end
end

-- Notificação para usuário logado
OrionLib:MakeNotification({
    Name = "Para Logar!",
    Content = "Você precisa de uma Key, " .. Player.Name .. ".",
    Image = "rbxassetid://4483345998",
    Time = 5
})

-- Define a lista de usuários válidos e suas respectivas chaves
local validUsers = {
    {name = "mayarameama", key = "admin"},
    {name = "RAFACHEL13", key = "admin"},
    {name = "KING_EGGzz", key = "zaquelgu"},
    {name = "ZsimmulateTV", key = "nack2904"},
    {name = "Moon98549", key = "Oct10162023"},
    {name = "luffy_chope4", key = "carencia"},
    {name = "Dark_King5328", key = "Gautambha"},
    {name = "TralhaREE", key = "pipoca9797"},
    {name = "Pichu_0131", key = "andrej12!"},
    {name = "Hivz562", key = "$Jeremiah262@"},
    {name = "YDarkManYT", key = "jpsilveiraf23"},
    {name = "matheus_wolf321", key = "brasil"},
    {name = "lalkakajffad", key = "trevaxp"},
    {name = "wiwjsjksiei3ieie", key = "201008vh"}
}
getgenv().KeyInput = "string"

-- Cria uma aba para inserção da chave
local Tab = Window:MakeTab({
    Name = "Loggin",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Caixa de texto para inserir a chave
Tab:AddTextbox({
    Name = "Loggin",
    Default = "",
    TextDisappear = true,
    Callback = function(Value)
        getgenv().KeyInput = Value
    end
})

-- Função para verificar se a chave e o nome do jogador são válidos
local function IsValidUser(name, key)
    for _, user in ipairs(validUsers) do
        if user.name == name and user.key == key then
            return true
        end
    end
    return false
end

-- Função para tocar som de clique
local function PlayClickSound(soundId)
    local success, err = pcall(function()
        local clickSound = Instance.new("Sound", SoundService)
        clickSound.SoundId = soundId
        clickSound.Volume = 1
        clickSound:Play()
    end)
    if not success then
        warn("Erro ao tocar som de clique: " .. err)
    end
end

-- Botão para fazer login com a chave inserida
Tab:AddButton({
    Name = "Verificar Login",
    Callback = function()
        OrionLib:MakeNotification({
            Name = "Checando Login...",
            Content = "Checando o login no banco de dados, aguarde...",
            Image = "rbxassetid://4483345998",
            Time = 5
        })

        -- Toca sons diferentes com base no resultado do login
        if IsValidUser(Player.Name, getgenv().KeyInput) then
            -- Som de login correto
            PlayClickSound("rbxassetid://3997124966")
            wait(1)  -- Aguarda por 1 segundo antes de exibir a notificação de login correto
            OrionLib:MakeNotification({
                Name = "Loggin Correto!",
                Content = "O login inserido está correto!",
                Image = "rbxassetid://4483345998",
                Time = 5
            })
            wait(1)  -- Aguarda mais 1 segundo antes de continuar
            OrionLib:Destroy()
            wait(0.3)  -- Aguarda 0.3 segundos antes de continuar
            MakeScriptHub()
        else
            -- Som de login incorreto (usando o ID de som fornecido)
            PlayClickSound("rbxassetid://2865228021")
            wait(1)  -- Aguarda por 1 segundo antes de exibir a notificação de login incorreto
            OrionLib:MakeNotification({
                Name = "Loggin Incorreto!",
                Content = "O login inserido está incorreto.",
                Image = "rbxassetid://4483345998",
                Time = 5
            })
        end
    end
})

-- Botão para copiar o link do Discord para obter a chave
Tab:AddButton({
    Name = "Cadastrar/Copiar Discord",
    Callback = function()
        PlayClickSound("rbxassetid://876939830") -- Toca o som de clique quando o botão é pressionado
        setclipboard("https://discord.gg/N7f8WRQc2G")
    end
})

-- Função para verificar se o jogador é admin
local function IsAdmin(name)
    local adminUsers = {"mayarameama", "RAFACHEL13"} -- Adicione nomes de administradores aqui
    for _, admin in ipairs(adminUsers) do
        if admin == name then
            return true
        end
    end
    return false
end

-- Cria a aba de admin se o jogador for um admin
if IsAdmin(Player.Name) then
    local AdminTab = Window:MakeTab({
        Name = "Admin",
        Icon = "rbxassetid://4483345998",
        PremiumOnly = false
    })
    
    AdminTab:AddLabel("Admin Commands Here")
    -- Adicione mais funcionalidades de admin conforme necessário
end

OrionLib:Init()
