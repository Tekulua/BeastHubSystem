local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/ionlyusegithubformcmods/1-Line-Scripts/main/Mobile%20Friendly%20Orion')))()
local Player = game.Players.LocalPlayer
local SoundService = game:GetService("SoundService")

-- Function to play sound
local function PlayIntroSound()
    local introSound = Instance.new("Sound", SoundService)
    introSound.SoundId = "rbxassetid://1846396460"
    introSound.Volume = 1
    introSound:Play()
end

-- Play intro sound immediately
PlayIntroSound()

-- Create the window after playing the intro sound
local Window = OrionLib:MakeWindow({
    Name = "HumaHubKeySystem",
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "OrionTest",
    IntroText = "Carregando Aguarde..."
})

-- Notification for logged in user
OrionLib:MakeNotification({
    Name = "Bem Vindo!",
    Content = "VocÃª precisa de uma Key, " .. Player.Name .. ".",
    Image = "rbxassetid://18122662957",
    Time = 5
})

-- Define the list of valid keys and corresponding player names
local validUsers = {
    {name = "mayarameama", key = "admin"}, -- ADMIN HAHAHA
    {name = "RAFACHEL13", key = "admin"}, -- ADMIN HAHHA
    {name = "Tengenzk", key = "zaquelgu"}, -- Vence dia 18/07/24
    {name = "ZsimmulateTV", key = "nack2904"}, -- Permanente
    {name = "Moon98549", key = "Oct10162023"}, -- Permanente eu acho
    {name = "luffy_chope4", key = "carencia"}, -- Vagabundo Aleatorio
    {name = "Dark_King5328", key = "Gautambha"}, -- Vence Dia 26/07/24
    {name = "TralhaREE", key = "pipoca9797"}, -- Permanente
    {name = "Pichu_0131", key = "andrej12!"}, -- Vence Dia 27/07/24
    {name = "extrasunx07", key = "+$++_"}, -- Vence Dia 28/07/24
    {name = "YDarkManYT", key = "jpsilveraf23"} -- Vence Dia 28/07/24
}

getgenv().KeyInput = ""

-- Create a tab for key input
local Tab = Window:MakeTab({
    Name = "Login",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Textbox for entering the key
Tab:AddTextbox({
    Name = "KeyInput",
    Default = "",
    TextDisappear = true,
    Callback = function(Value)
        getgenv().KeyInput = Value
    end
})

-- Function to check if the entered key and player name are valid
local function IsValidUser(playerName, inputKey)
    for _, user in ipairs(validUsers) do
        if user.name == playerName and user.key == inputKey then
            return true
        end
    end
    return false
end

-- Function to play sound on button click
local function PlayClickSound(soundId)
    local clickSound = Instance.new("Sound", SoundService)
    clickSound.SoundId = soundId
    clickSound.Volume = 1
    clickSound:Play()
end

-- Button to check the entered key
Tab:AddButton({
    Name = "Check Login",
    Callback = function()
        OrionLib:MakeNotification({
            Name = "Checking Login",
            Content = "Checking login in the database, please wait...",
            Image = "rbxassetid://18122662957",
            Time = 5
        })

        -- Play different sounds based on login result
        if IsValidUser(Player.Name, getgenv().KeyInput) then
            -- Correct login sound
            PlayClickSound("rbxassetid://3997124966")
            wait(1)
            OrionLib:MakeNotification({
                Name = "Login Successful!",
                Content = "The entered login is correct!",
                Image = "rbxassetid://18122662957",
                Time = 5
            })
            wait(1)
            OrionLib:Destroy()
            wait(0.3)
            MakeScriptHub()
        else
            -- Incorrect login sound
            PlayClickSound("rbxassetid://2865228021")
            wait(1)
            OrionLib:MakeNotification({
                Name = "Incorrect Login!",
                Content = "The entered login is incorrect.",
                Image = "rbxassetid://18122662957",
                Time = 5
            })
        end
    end
})

-- Button to copy the Discord link for the key
Tab:AddButton({
    Name = "Copy Discord Link",
    Callback = function()
        PlayClickSound("rbxassetid://876939830")
        setclipboard("https://discord.gg/N7f8WRQc2G")
    end
})

-- Create the admin tab if the player is an admin
local function IsAdmin(playerName)
    return playerName == "mayarameama" or playerName == "RAFACHEL13"
end

if IsAdmin(Player.Name) then
    local AdminTab = Window:MakeTab({
        Name = "Admin",
        Icon = "rbxassetid://4483345998",
        PremiumOnly = false
    })
    
    AdminTab:AddLabel("Admin Commands Here")
    -- Add more admin functionalities as needed
end

OrionLib:Init()
