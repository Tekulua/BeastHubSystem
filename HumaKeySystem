local OrionLib = loadstring(game:HttpGet('https://raw.githubusercontent.com/ionlyusegithubformcmods/1-Line-Scripts/main/Mobile%20Friendly%20Orion'))()
local Player = game.Players.LocalPlayer
local SoundService = game:GetService("SoundService")

-- Função para tocar som
local function PlayIntroSound()
    local success, err = pcall(function()
        local introSound = Instance.new("Sound", SoundService)
        introSound.SoundId = "rbxassetid://1846396460"
        introSound.Volume = 1
        introSound:Play()
    end)
    if not success then
        warn("Erro ao tocar som de introdução: " .. err)
    end
end

-- Toca o som de introdução imediatamente
PlayIntroSound()

-- Cria a janela após tocar o som de introdução
local Window = OrionLib:MakeWindow({
    Name = "HumaHubKeySystem",
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "OrionTest",
    IntroText = "Carregando Aguarde..."
})

-- Função para carregar o script principal se a chave estiver correta
local function MakeScriptHub()
    local success, err = pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Tekulua/HumaHubV1/main/HumaHubV1.txt"))()
    end)
    if not success then
        warn("Erro ao carregar script principal: " .. err)
    end
end

-- Notificação para usuário logado
OrionLib:MakeNotification({
    Name = "Para Logar!",
    Content = "Você precisa de uma Key, " .. Player.Name .. ".",
    Image = "rbxassetid://4483345998",
    Time = 5
})

-- Define a lista de usuários válidos e suas respectivas chaves
local validUsers = {
    {name = "MayaraARMY", key = "admin"}, 
    {name = "RAFACHEL13", key = "admin"}, 
    {name = "joaollucasdc", key = "jjll123777"}, -- PERMANENTE
    {name = "0biel_Gow0", key = "9090"}, -- 09/08/2024
    {name = "HoaitriOujB10", key = "Juliocesar1#"}, -- 15/08/2024
    {name = "tarquinio728727YT", key = "minhamaee1"}, -- 08/08/2024
    {name = "Kawanzinh_12", key = "AD788493@"}, -- 15/08/2024
    {name = "Syvus2", key = "Black123"}, -- 08/08/2024
    {name = "mateiopedro", key = "Paodebatata123!"}, -- 14/08/2024
    {name = "ofwiressht", key = "ceostoblame123"}, -- 10/08/2024
    {name = "iTz_Huskeyy", key = "090600"}, -- 24/08/2024
    {name = "InimigoDoCombo", key = "trxshkkz"}, -- 09/08/2024
    {name = "TheGamesBrasilYT", key = "games2000"}, -- 13/08/2024
    {name = "Satoru_Slay3r", key = "muriloana"}, -- 09/08/2024
    {name = "OtavioMIT3", key = "Ot4854"}, -- 09/08/2024
    {name = "ghjklgf", key = "senha123"}, -- 09/08/2024
    {name = "mcl7", key = "Rona2505"}, -- 11/08/2024
    {name = "BorutoDoidao", key = "euqueroItemChampion1#"}, -- PERMANENTE
    {name = "Gregory_Vladislav", key = "euqueroItemChampion2@"} -- PERMANENTE
}

-- Função para adicionar novos usuários
local function AddUser(name, key)
    table.insert(validUsers, {name = name, key = key})
end

getgenv().KeyInput = "string"

-- Cria uma aba para inserção da chave
local Tab = Window:MakeTab({
    Name = "Loggin",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Caixa de texto para inserir a chave
Tab:AddTextbox({
    Name = "Loggin",
    Default = "",
    TextDisappear = true,
    Callback = function(Value)
        getgenv().KeyInput = Value
    end
})

-- Função para verificar se a chave e o nome do jogador são válidos
local function IsValidUser(name, key)
    for _, user in ipairs(validUsers) do
        if user.name == name and user.key == key then
            return true
        end
    end
    return false
end

-- Função para tocar som de clique
local function PlayClickSound(soundId)
    local success, err = pcall(function()
        local clickSound = Instance.new("Sound", SoundService)
        clickSound.SoundId = soundId
        clickSound.Volume = 1
        clickSound:Play()
    end)
    if not success then
        warn("Erro ao tocar som de clique: " .. err)
    end
end

-- Botão para fazer login com a chave inserida
Tab:AddButton({
    Name = "Verificar Login",
    Callback = function()
        OrionLib:MakeNotification({
            Name = "Checando Login...",
            Content = "Checando o login no banco de dados, aguarde...",
            Image = "rbxassetid://4483345998",
            Time = 5
        })

        if IsValidUser(Player.Name, getgenv().KeyInput) then
            PlayClickSound("rbxassetid://3997124966")
            wait(1)
            OrionLib:MakeNotification({
                Name = "Loggin Correto!",
                Content = "O login inserido está correto!",
                Image = "rbxassetid://4483345998",
                Time = 5
            })
            wait(1)
            OrionLib:Destroy()
            wait(0.3)
            MakeScriptHub()
        else
            PlayClickSound("rbxassetid://2865228021")
            wait(1)
            OrionLib:MakeNotification({
                Name = "Loggin Incorreto!",
                Content = "O login inserido está incorreto.",
                Image = "rbxassetid://4483345998",
                Time = 5
            })
        end
    end
})

-- Botão para copiar o link do Discord para obter a chave
Tab:AddButton({
    Name = "Cadastrar/Copiar Discord",
    Callback = function()
        PlayClickSound("rbxassetid://876939830")
        setclipboard("https://discord.gg/N7f8WRQc2G")
    end
})

-- Função para verificar se o jogador é admin
local function IsAdmin(name)
    local adminUsers = {"MayaraARMY", "RAFACHEL13"}
    for _, admin in ipairs(adminUsers) do
        if admin == name then
            return true
        end
    end
    return false
end

-- Cria a aba de admin se o jogador for um admin
if IsAdmin(Player.Name) then
    local AdminTab = Window:MakeTab({
        Name = "Admin",
        Icon = "rbxassetid://4483345998",
        PremiumOnly = false
    })
    
    AdminTab:AddLabel("Admin Commands Here")
    -- Adicione mais funcionalidades de admin conforme necessário
end

OrionLib:Init()
